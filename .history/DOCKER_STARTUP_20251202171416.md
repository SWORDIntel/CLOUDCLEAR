# CloudClear Docker Startup Guide

## Random Port Assignment

CloudClear now automatically assigns random available ports on startup to avoid port conflicts.

## Quick Start

### Start CloudClear with Random Ports

```bash
./docker-start.sh
```

This script will:
1. Find random available ports (HTTP and HTTPS)
2. Start all Docker containers
3. Display the assigned ports clearly
4. Save ports to `.docker-ports` file for reference

### View Current Ports

If you forget the assigned ports, run:

```bash
./docker-ports.sh
```

This displays:
- Current HTTP port
- Current HTTPS port
- Quick access links
- Saved ports from startup

## Example Output

When you run `./docker-start.sh`, you'll see:

```
╔════════════════════════════════════════════════════════════╗
║                    ACCESS INFORMATION                      ║
╚════════════════════════════════════════════════════════════╝

Web Interface (HTTP):
  http://localhost:8143

Web Interface (HTTPS):
  https://localhost:9778

API Health Check:
  http://localhost:8143/health

API Endpoint:
  http://localhost:8143/api/
```

## Manual Port Assignment

If you want to use specific ports instead of random ones, you can set environment variables:

```bash
export CADDY_HTTP_PORT=8080
export CADDY_HTTPS_PORT=8443
docker-compose up -d
```

## Useful Commands

```bash
# View logs
docker-compose logs -f

# Stop containers
docker-compose down

# Restart containers
docker-compose restart

# View container status
docker-compose ps

# View ports
./docker-ports.sh
```

## Port Range

- HTTP ports are randomly selected from range: 8000-9000
- HTTPS ports are randomly selected from range: 9000-10000

Ports are automatically checked for availability before assignment.

