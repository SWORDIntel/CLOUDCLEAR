# CloudUnflare Enhanced v2.0 - Docker Runtime Configuration
# Production configuration for containerized deployment

[general]
# Application identification
app_name = "CloudUnflare Enhanced"
app_version = "2.0"
deployment_mode = "docker"
instance_id = "docker-main"

# Performance tuning for container environment
max_threads = 50
default_thread_count = 10
thread_pool_size = 50
connection_pool_size = 20

# Memory management in containers
memory_limit_mb = 512
secure_heap_size_mb = 10
max_memory_regions = 100
memory_alignment = 32

[dns]
# DNS configuration optimized for Docker networking
default_timeout = 30
max_timeout = 60
retry_attempts = 3
retry_backoff_ms = 1000

# DNS-over-HTTPS providers (Docker-optimized)
doh_enabled = true
doh_primary = "https://cloudflare-dns.com/dns-query"
doh_secondary = "https://dns.google/dns-query"
doh_fallback = "https://dns.quad9.net/dns-query"

# DNS-over-TLS configuration
dot_enabled = true
dot_port = 853

# DNS-over-QUIC configuration
doq_enabled = true
doq_port = 853

# IPv6 support in container
ipv6_enabled = true
dual_stack = true

[opsec]
# OPSEC settings for production deployment
stealth_mode = true
evasion_techniques = true
rate_limiting = true

# Timing and randomization
min_request_delay_ms = 1000
max_request_delay_ms = 5000
jitter_base_ms = 500
jitter_range_ms = 2000

# User agent and proxy rotation
user_agent_rotation = true
user_agent_rotation_interval = 25
proxy_rotation = true
proxy_rotation_interval = 100

# Circuit breaking and health
circuit_breaker_enabled = true
max_requests_per_circuit = 100
failure_threshold = 5
anomaly_threshold = 8

[security]
# Security hardening for containers
secure_memory = true
canary_protection = true
stack_protection = true
memory_wiping = true
emergency_cleanup = true

# SSL/TLS configuration
ssl_verify_peer = true
ssl_verify_host = true
ssl_min_version = "TLSv1.2"
ssl_cipher_list = "ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS"

[logging]
# Logging configuration for container environment
log_level = 1
verbose_logging = false
performance_metrics = true
operation_logging = false

# Log file paths (container-relative)
log_directory = "/app/logs"
main_log_file = "cloudunflare-main.log"
security_log_file = "security-events.log"
performance_log_file = "performance-metrics.log"
dns_log_file = "dns-queries.log"

# Log rotation
log_rotation = true
max_log_size_mb = 10
max_log_files = 5

[network]
# Network configuration for Docker
bind_interface = "0.0.0.0"
source_port_randomization = true

# Connection limits
max_concurrent_connections = 100
connection_timeout = 30
keep_alive_timeout = 60

# Bandwidth limits (bytes per second)
max_upload_bps = 1048576    # 1MB/s
max_download_bps = 10485760 # 10MB/s

[reconnaissance]
# Reconnaissance module configuration (when enabled)
recon_enabled = false
max_concurrent_operations = 50
default_timeout = 30
max_retries = 3

# OPSEC for reconnaissance
stealth_delay_multiplier = 5
aggressive_mode_enabled = false
decoy_scan_count = 5

# Rate limits for reconnaissance
dns_queries_per_second = 10
http_requests_per_second = 5
port_scans_per_second = 50
zone_transfers_per_hour = 5

[api]
# External API configuration
api_enabled = false
rate_limit_enabled = true

# API rate limits (milliseconds)
viewdns_rate_limit_ms = 3000
completedns_rate_limit_ms = 2500
crt_sh_rate_limit_ms = 2000
shodan_rate_limit_ms = 1000

[monitoring]
# Monitoring and health checks
health_check_enabled = true
health_check_interval = 30
metrics_collection = true
metrics_export_interval = 60

# Performance thresholds
max_response_time_ms = 5000
max_memory_usage_mb = 400
max_cpu_usage_percent = 80

# Alert thresholds
critical_memory_threshold = 90
critical_cpu_threshold = 90
error_rate_threshold = 5

[paths]
# Container paths
config_directory = "/app/config"
results_directory = "/app/results"
logs_directory = "/app/logs"
wordlists_directory = "/app/wordlists"
probes_directory = "/app/probes"
temp_directory = "/tmp/cloudunflare"

# Default wordlists and resources
subdomain_wordlist = "/app/wordlists/subdomains.txt"
user_agent_list = "/app/wordlists/user-agents.txt"
dns_wordlist = "/app/wordlists/dns_subdomains.txt"
service_probes = "/app/probes/service_probes.txt"